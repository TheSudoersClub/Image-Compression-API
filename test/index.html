<!DOCTYPE html>
<html>

<head>
	<title>Image-Compression-Api</title>
</head>

<body>
	<h1>Image-Compression-Api</h1>
	<label for="compressionSizeInKB">Enter Compression Size:</label>
	<input type="text" id="compressionSizeInKB">
	<br>
	<input type="file" id="fileInput">
	<button id="submitBtn">Submit</button>

	<script>
		const submitBtn = document.getElementById("submitBtn");
		const fileInput = document.getElementById("fileInput");

		submitBtn.addEventListener("click", async () => {
			// get the requested compression size
			const compressionSizeInKB = document.getElementById("compressionSizeInKB").value;
			console.log(compressionSizeInKB);

			const file = fileInput.files[0];

			const formData = new FormData();
			formData.append("compressionSizeInKB", compressionSizeInKB);
			formData.append("file", file);


			const response = await fetch("http://localhost:3000/compress", {
				method: "POST",
				body: formData,
			});

			const data = await response.json();

			console.log(data);
		});
	</script>
</body>

</html>